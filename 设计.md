# SmartIce åŸ¹è®­ç³»ç»Ÿ - äº§å“ä¸æŠ€æœ¯è®¾è®¡æ–‡æ¡£

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-11-13
**è®¾è®¡ç†å¿µ**: ç§»åŠ¨ä¼˜å…ˆã€ç®€æ´æ˜“ç”¨ã€AIè¾…åŠ©å¼€å‘
**ç›®æ ‡ç”¨æˆ·**: é¤é¥®è¡Œä¸šä¸€çº¿å‘˜å·¥åŠç®¡ç†äººå‘˜

---

## ç›®å½•

1. [äº§å“è®¾è®¡](#1-äº§å“è®¾è®¡)
2. [æŠ€æœ¯æ¶æ„](#2-æŠ€æœ¯æ¶æ„)
3. [UI/UXè®¾è®¡](#3-uiuxè®¾è®¡)
4. [æ•°æ®æ¨¡å‹](#4-æ•°æ®æ¨¡å‹)
5. [å®‰å…¨æ€§è®¾è®¡](#5-å®‰å…¨æ€§è®¾è®¡)
6. [æ€§èƒ½ä¼˜åŒ–](#6-æ€§èƒ½ä¼˜åŒ–)
7. [AIå·¥å…·åº”ç”¨ç­–ç•¥](#7-aiå·¥å…·åº”ç”¨ç­–ç•¥)

---

## 1. äº§å“è®¾è®¡

### 1.1 äº§å“å®šä½

**SmartIceåŸ¹è®­ç³»ç»Ÿ**æ˜¯ä¸€ä¸ªä¸“ä¸ºé¤é¥®è¿è¥ä¼ä¸šæ‰“é€ çš„è½»é‡çº§å­¦ä¹ ç®¡ç†ç³»ç»Ÿï¼ˆLMSï¼‰ï¼Œèšç„¦äºå¿«é€Ÿã€é«˜æ•ˆçš„å‘˜å·¥åŸ¹è®­ã€‚

**æ ¸å¿ƒä»·å€¼ä¸»å¼ **:
- ğŸ¯ **ä¸“æ³¨é¤é¥®**: åŸºäºçœŸå®è¿è¥æ ‡å‡†ï¼ˆå‰å…ã€å¨æˆ¿ï¼‰çš„åŸ¹è®­å†…å®¹
- ğŸ“± **ç§»åŠ¨ä¼˜å…ˆ**: ä¸€çº¿å‘˜å·¥éšæ—¶éšåœ°å­¦ä¹ 
- âš¡ **å¿«é€Ÿä¸Šæ‰‹**: é›¶å­¦ä¹ æˆæœ¬ï¼Œç›´è§‚æ˜“ç”¨
- ğŸ“Š **æ•°æ®é©±åŠ¨**: å®æ—¶æŒæ¡åŸ¹è®­è¿›åº¦å’Œæ•ˆæœ

### 1.2 MVPåŠŸèƒ½èŒƒå›´

**ç¬¬ä¸€é˜¶æ®µ - åŸºç¡€å­¦ä¹ ç³»ç»Ÿï¼ˆ1ä¸ªæœˆï¼‰**
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•ï¼ˆå‘˜å·¥ã€ç®¡ç†å‘˜ï¼‰
- âœ… è¯¾ç¨‹ç›®å½•æµè§ˆï¼ˆå‰å…ã€å¨æˆ¿åˆ†ç±»ï¼‰
- âœ… ä¸ªäººå­¦ä¹ ä¸­å¿ƒ
- âœ… åŸºç¡€æƒé™ç®¡ç†

**ç¬¬äºŒé˜¶æ®µ - åœ¨çº¿å­¦ä¹ ä¸æµ‹éªŒï¼ˆ1ä¸ªæœˆï¼‰**
- âœ… è¯¾ç¨‹å†…å®¹å±•ç¤ºï¼ˆMarkdownæ¸²æŸ“ã€å›¾ç‰‡å±•ç¤ºï¼‰
- âœ… å­¦ä¹ è¿›åº¦è·Ÿè¸ª
- âœ… åœ¨çº¿æµ‹éªŒç³»ç»Ÿï¼ˆå•é€‰ã€å¤šé€‰ã€åˆ¤æ–­é¢˜ï¼‰
- âœ… æµ‹éªŒç»“æœè®°å½•

**ç¬¬ä¸‰é˜¶æ®µ - æ•°æ®ä¸ç®¡ç†ï¼ˆ2-4å‘¨ï¼‰**
- âœ… å­¦ä¹ è¿›åº¦çœ‹æ¿ï¼ˆå‘˜å·¥ç«¯ï¼‰
- âœ… åŸ¹è®­æ•°æ®çœ‹æ¿ï¼ˆç®¡ç†ç«¯ï¼‰
- âœ… è¯¾ç¨‹å®Œæˆè¯ä¹¦
- âœ… ç®€å•çš„é€šçŸ¥ç³»ç»Ÿ

**æš‚ä¸å®ç°ï¼ˆåç»­è¿­ä»£ï¼‰**:
- âŒ è§†é¢‘æ’­æ”¾ï¼ˆæˆæœ¬é«˜ï¼Œå…ˆç”¨æ–‡æ¡£+å›¾ç‰‡ï¼‰
- âŒ AIæ¨èç³»ç»Ÿ
- âŒ å¤æ‚çš„å­¦ä¹ è·¯å¾„
- âŒ ç¤¾äº¤äº’åŠ¨åŠŸèƒ½

### 1.3 ç”¨æˆ·è§’è‰²

| è§’è‰² | æƒé™ | ä¸»è¦åŠŸèƒ½ |
|------|------|----------|
| **å‘˜å·¥** | åŸºç¡€ | æµè§ˆè¯¾ç¨‹ã€å­¦ä¹ å†…å®¹ã€å‚åŠ æµ‹éªŒã€æŸ¥çœ‹è¿›åº¦ |
| **åº—é•¿** | ä¸­çº§ | å‘˜å·¥åŠŸèƒ½ + æŸ¥çœ‹æœ¬åº—åŸ¹è®­æ•°æ®ã€åˆ†é…è¯¾ç¨‹ |
| **ç®¡ç†å‘˜** | é«˜çº§ | æ‰€æœ‰åŠŸèƒ½ + è¯¾ç¨‹ç®¡ç†ã€ç”¨æˆ·ç®¡ç†ã€æ•°æ®åˆ†æ |

---

## 2. æŠ€æœ¯æ¶æ„

### 2.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     å‰ç«¯ (React + TS)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ç§»åŠ¨ç«¯é¡µé¢  â”‚  â”‚  PCç«¯é¡µé¢    â”‚  â”‚  ç®¡ç†åå°    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                â”‚                 â”‚           â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                           â”‚                              â”‚
â”‚                      RESTful API                         â”‚
â”‚                           â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          åç«¯ (Node.js + Express + TS)             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ ç”¨æˆ·æœåŠ¡ â”‚  â”‚ è¯¾ç¨‹æœåŠ¡ â”‚  â”‚ å­¦ä¹ è®°å½•æœåŠ¡    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              æ•°æ®åº“ (PostgreSQL)                   â”‚ â”‚
â”‚  â”‚    Users | Courses | Lessons | Tests | Progress    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€æœ¯æ ˆé€‰å‹

**å‰ç«¯**
- **æ¡†æ¶**: React 18 + TypeScript
- **UIç»„ä»¶åº“**: Ant Design Mobileï¼ˆç§»åŠ¨ç«¯ï¼‰+ Ant Designï¼ˆPCç«¯ï¼‰
- **çŠ¶æ€ç®¡ç†**: Zustandï¼ˆè½»é‡çº§ï¼Œæ˜“äºç‹¬ç«‹å¼€å‘ï¼‰
- **è·¯ç”±**: React Router v6
- **HTTPå®¢æˆ·ç«¯**: Axios
- **Markdownæ¸²æŸ“**: react-markdown + remark-gfm
- **æ„å»ºå·¥å…·**: Vite

**åç«¯**
- **è¿è¡Œæ—¶**: Node.js 20 LTS
- **æ¡†æ¶**: Express.js + TypeScript
- **ORM**: Prismaï¼ˆç±»å‹å®‰å…¨ã€æ˜“ç”¨ï¼‰
- **èº«ä»½éªŒè¯**: JWT + bcrypt
- **æ•°æ®éªŒè¯**: Zod
- **æ—¥å¿—**: Winston

**æ•°æ®åº“**
- **ä¸»æ•°æ®åº“**: PostgreSQL 15
- **ç¼“å­˜**: Redisï¼ˆå¯é€‰ï¼ŒåæœŸä¼˜åŒ–ï¼‰

**éƒ¨ç½²**
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **æœåŠ¡å™¨**: æœ¬åœ°éƒ¨ç½² / ç§æœ‰äº‘
- **åå‘ä»£ç†**: Nginx

### 2.3 é¡¹ç›®ç»“æ„

```
smartice-training-lms/
â”œâ”€â”€ frontend/                  # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/         # ç™»å½•æ³¨å†Œ
â”‚   â”‚   â”‚   â”œâ”€â”€ courses/      # è¯¾ç¨‹åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ learning/     # å­¦ä¹ é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ tests/        # æµ‹éªŒé¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ dashboard/    # æ•°æ®çœ‹æ¿
â”‚   â”‚   â”œâ”€â”€ components/       # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ stores/           # ZustandçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ services/         # APIè°ƒç”¨
â”‚   â”‚   â”œâ”€â”€ types/            # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/                   # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/           # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ controllers/      # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ middlewares/      # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ types/            # TypeScriptç±»å‹
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma     # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ tsconfig.json
â”‚
â”œâ”€â”€ docs/                      # åŸæœ‰æ–‡æ¡£
â”‚   â”œâ”€â”€ PRD-SmartIce-åŸ¹è®­å·¥å…·-LMS.md
â”‚   â””â”€â”€ knowlege/             # åŸ¹è®­å†…å®¹çŸ¥è¯†åº“
â”‚
â”œâ”€â”€ docker-compose.yml         # Dockeré…ç½®
â”œâ”€â”€ README.md
â”œâ”€â”€ è®¾è®¡.md
â”œâ”€â”€ è®¡åˆ’.md
â””â”€â”€ CLAUDE.md
```

---

## 3. UI/UXè®¾è®¡

### 3.1 è®¾è®¡åŸåˆ™

**ç§»åŠ¨ä¼˜å…ˆ**
- ä¼˜å…ˆè®¾è®¡ç§»åŠ¨ç«¯ä½“éªŒï¼ŒPCç«¯é€‚é…
- å¤§æŒ‰é’®ã€æ¸…æ™°å­—ä½“ã€å……è¶³é—´è·
- æ”¯æŒå•æ‰‹æ“ä½œ

**ç®€æ´ç›´è§‚**
- æ‰å¹³åŒ–è®¾è®¡ï¼Œå‡å°‘è§†è§‰å¹²æ‰°
- æ¸…æ™°çš„å±‚çº§ç»“æ„å’Œå¯¼èˆª
- ä¸€é¡µä¸€ä»»åŠ¡ï¼Œé¿å…å¤æ‚äº¤äº’

**å¿«é€Ÿå“åº”**
- éª¨æ¶å±åŠ è½½
- ä¹è§‚æ›´æ–°ï¼ˆOptimistic UIï¼‰
- é”™è¯¯æç¤ºæ¸…æ™°å‹å¥½

### 3.2 æ ¸å¿ƒé¡µé¢è®¾è®¡

**ç§»åŠ¨ç«¯é¡µé¢æµç¨‹**
```
ç™»å½•é¡µ â†’ é¦–é¡µï¼ˆè¯¾ç¨‹åˆ†ç±»ï¼‰
         â”œâ”€â†’ å‰å…è¯¾ç¨‹åˆ—è¡¨ â†’ è¯¾ç¨‹è¯¦æƒ… â†’ å¼€å§‹å­¦ä¹  â†’ æµ‹éªŒ â†’ ç»“æœ
         â”œâ”€â†’ å¨æˆ¿è¯¾ç¨‹åˆ—è¡¨ â†’ è¯¾ç¨‹è¯¦æƒ… â†’ å¼€å§‹å­¦ä¹  â†’ æµ‹éªŒ â†’ ç»“æœ
         â””â”€â†’ æˆ‘çš„å­¦ä¹  â†’ å­¦ä¹ è¿›åº¦ã€è¯ä¹¦ã€ç»Ÿè®¡
```

**é¢œè‰²æ–¹æ¡ˆ**ï¼ˆå‚è€ƒé¤é¥®è¡Œä¸šè§†è§‰ï¼‰
- **ä¸»è‰²**: #1890ffï¼ˆè“è‰²ï¼Œä¸“ä¸šå¯ä¿¡ï¼‰
- **è¾…åŠ©è‰²**: #52c41aï¼ˆç»¿è‰²ï¼Œå®ŒæˆçŠ¶æ€ï¼‰
- **è­¦å‘Šè‰²**: #faad14ï¼ˆæ©™è‰²ï¼Œæé†’ï¼‰
- **é”™è¯¯è‰²**: #f5222dï¼ˆçº¢è‰²ï¼Œé”™è¯¯ï¼‰
- **èƒŒæ™¯è‰²**: #f5f5f5ï¼ˆæµ…ç°ï¼Œèˆ’é€‚ï¼‰

**å­—ä½“æ–¹æ¡ˆ**
- **æ ‡é¢˜**: PingFang SC Medium, 18-24px
- **æ­£æ–‡**: PingFang SC Regular, 14-16px
- **è¾…åŠ©æ–‡å­—**: PingFang SC Regular, 12px, #999

### 3.3 å…³é”®äº¤äº’è®¾è®¡

**å­¦ä¹ è¿›åº¦å¯è§†åŒ–**
- è¿›åº¦æ¡æ˜¾ç¤ºè¯¾ç¨‹å®Œæˆåº¦
- å¾½ç« /å‹‹ç« ç³»ç»Ÿï¼ˆå®Œæˆè¯¾ç¨‹è·å¾—ï¼‰
- å­¦ä¹ æ—¥å†ï¼ˆè¿ç»­å­¦ä¹ æ‰“å¡ï¼‰

**æµ‹éªŒä½“éªŒä¼˜åŒ–**
- å•é¢˜å±•ç¤ºï¼Œé¿å…é¡µé¢è¿‡é•¿
- ç­”é¢˜è¿›åº¦æç¤ºï¼ˆ1/10ï¼‰
- å³æ—¶åé¦ˆï¼ˆç­”å¯¹/ç­”é”™ï¼‰
- é”™é¢˜æœ¬åŠŸèƒ½

---

## 4. æ•°æ®æ¨¡å‹

### 4.1 æ ¸å¿ƒå®ä½“

```prisma
// ç”¨æˆ·è¡¨
model User {
  id          String   @id @default(uuid())
  username    String   @unique
  password    String   // bcryptåŠ å¯†
  realName    String   // çœŸå®å§“å
  role        Role     @default(EMPLOYEE)
  storeId     String?  // æ‰€å±é—¨åº—
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  progress    LearningProgress[]
  testResults TestResult[]
}

enum Role {
  EMPLOYEE    // å‘˜å·¥
  MANAGER     // åº—é•¿
  ADMIN       // ç®¡ç†å‘˜
}

// è¯¾ç¨‹åˆ†ç±»
model Category {
  id          String   @id @default(uuid())
  name        String   // "å‰å…" / "å¨æˆ¿"
  description String?
  order       Int      @default(0)
  courses     Course[]
}

// è¯¾ç¨‹
model Course {
  id          String   @id @default(uuid())
  title       String
  description String
  categoryId  String
  category    Category @relation(fields: [categoryId], references: [id])
  coverImage  String?
  duration    Int      // é¢„è®¡å­¦ä¹ æ—¶é•¿ï¼ˆåˆ†é’Ÿï¼‰
  order       Int      @default(0)
  isPublished Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  lessons     Lesson[]
  tests       Test[]
  progress    LearningProgress[]
}

// è¯¾æ—¶ï¼ˆè¯¾ç¨‹çš„ç« èŠ‚ï¼‰
model Lesson {
  id          String   @id @default(uuid())
  courseId    String
  course      Course   @relation(fields: [courseId], references: [id])
  title       String
  content     String   @db.Text // Markdownæ ¼å¼
  order       Int
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// æµ‹éªŒ
model Test {
  id          String   @id @default(uuid())
  courseId    String
  course      Course   @relation(fields: [courseId], references: [id])
  title       String
  passingScore Int     @default(60) // åŠæ ¼åˆ†æ•°
  questions   Question[]
  results     TestResult[]
  createdAt   DateTime @default(now())
}

// æµ‹éªŒé¢˜ç›®
model Question {
  id          String   @id @default(uuid())
  testId      String
  test        Test     @relation(fields: [testId], references: [id])
  type        QuestionType
  question    String   @db.Text
  options     Json     // ["é€‰é¡¹A", "é€‰é¡¹B", "é€‰é¡¹C", "é€‰é¡¹D"]
  correctAnswer Json   // [0] å•é€‰ / [0,2] å¤šé€‰
  explanation String?  @db.Text // ç­”æ¡ˆè§£æ
  order       Int
}

enum QuestionType {
  SINGLE_CHOICE   // å•é€‰
  MULTIPLE_CHOICE // å¤šé€‰
  TRUE_FALSE      // åˆ¤æ–­
}

// å­¦ä¹ è¿›åº¦
model LearningProgress {
  id          String   @id @default(uuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id])
  courseId    String
  course      Course   @relation(fields: [courseId], references: [id])
  status      ProgressStatus @default(NOT_STARTED)
  progress    Int      @default(0) // 0-100
  startedAt   DateTime?
  completedAt DateTime?

  @@unique([userId, courseId])
}

enum ProgressStatus {
  NOT_STARTED  // æœªå¼€å§‹
  IN_PROGRESS  // å­¦ä¹ ä¸­
  COMPLETED    // å·²å®Œæˆ
}

// æµ‹éªŒç»“æœ
model TestResult {
  id          String   @id @default(uuid())
  userId      String
  user        User     @relation(fields: [userId], references: [id])
  testId      String
  test        Test     @relation(fields: [testId], references: [id])
  score       Int
  isPassed    Boolean
  answers     Json     // ç”¨æˆ·ç­”æ¡ˆè®°å½•
  createdAt   DateTime @default(now())
}
```

### 4.2 æ•°æ®å…³ç³»å›¾

```
User â”€â”€1:Nâ”€â†’ LearningProgress â†â”€N:1â”€â”€ Course
  â”‚                                      â”‚
  â””â”€â”€1:Nâ”€â†’ TestResult â†â”€N:1â”€â”€ Test â†â”€N:1â”˜
                                â”‚
                                â””â”€1:Nâ†’ Question

Category â”€1:Nâ†’ Course â”€1:Nâ†’ Lesson
```

---

## 5. å®‰å…¨æ€§è®¾è®¡

### 5.1 èº«ä»½éªŒè¯ä¸æˆæƒ

**JWTæ–¹æ¡ˆ**
- Access Token: 2å°æ—¶æœ‰æ•ˆæœŸ
- Refresh Token: 7å¤©æœ‰æ•ˆæœŸ
- Tokenå­˜å‚¨: HttpOnly Cookieï¼ˆé˜²XSSï¼‰

**å¯†ç å®‰å…¨**
- bcryptåŠ å¯†ï¼Œsalt rounds = 10
- å¯†ç å¼ºåº¦è¦æ±‚: æœ€å°‘8ä½ï¼ŒåŒ…å«å­—æ¯å’Œæ•°å­—

**APIæƒé™æ§åˆ¶**
```typescript
// æƒé™ä¸­é—´ä»¶
@RequireAuth()
@RequireRole([Role.ADMIN, Role.MANAGER])
async updateCourse() { ... }
```

### 5.2 æ•°æ®å®‰å…¨

**è¾“å…¥éªŒè¯**
- æ‰€æœ‰APIè¾“å…¥ä½¿ç”¨ZodéªŒè¯
- é˜²SQLæ³¨å…¥ï¼ˆPrisma ORMå¤©ç„¶é˜²æŠ¤ï¼‰
- é˜²XSSï¼ˆå‰ç«¯å†…å®¹è½¬ä¹‰ï¼ŒMarkdownæ¸²æŸ“ä½¿ç”¨sanitizeï¼‰

**æ•æ„Ÿä¿¡æ¯ä¿æŠ¤**
- å¯†ç ä¸è¿”å›åˆ°å‰ç«¯
- æ—¥å¿—ä¸­è„±æ•å¤„ç†
- é…ç½®ä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡

### 5.3 æœ¬åœ°éƒ¨ç½²å®‰å…¨

- Dockerå®¹å™¨éš”ç¦»
- æ•°æ®åº“ä¸æš´éœ²å…¬ç½‘ç«¯å£
- Nginxåå‘ä»£ç† + SSLè¯ä¹¦
- å®šæœŸæ•°æ®å¤‡ä»½

---

## 6. æ€§èƒ½ä¼˜åŒ–

### 6.1 å‰ç«¯ä¼˜åŒ–

**åŠ è½½æ€§èƒ½**
- è·¯ç”±æ‡’åŠ è½½ï¼ˆReact.lazyï¼‰
- å›¾ç‰‡æ‡’åŠ è½½
- ä»£ç åˆ†å‰²ï¼ˆæŒ‰é¡µé¢/æŒ‰åŠŸèƒ½ï¼‰
- Gzipå‹ç¼©

**æ¸²æŸ“ä¼˜åŒ–**
- React.memoç¼“å­˜ç»„ä»¶
- useMemo/useCallbacké¿å…é‡å¤è®¡ç®—
- è™šæ‹Ÿåˆ—è¡¨ï¼ˆé•¿åˆ—è¡¨åœºæ™¯ï¼‰
- éª¨æ¶å±æå‡æ„ŸçŸ¥æ€§èƒ½

**ç¼“å­˜ç­–ç•¥**
- è¯¾ç¨‹åˆ—è¡¨ç¼“å­˜ï¼ˆZustand persistï¼‰
- å­¦ä¹ è¿›åº¦æœ¬åœ°ç¼“å­˜
- Service Workerï¼ˆPWAï¼Œå¯é€‰ï¼‰

### 6.2 åç«¯ä¼˜åŒ–

**æ•°æ®åº“ä¼˜åŒ–**
- åˆç†çš„ç´¢å¼•è®¾è®¡ï¼ˆuserId, courseIdç­‰ï¼‰
- æŸ¥è¯¢ä¼˜åŒ–ï¼ˆé¿å…N+1é—®é¢˜ï¼‰
- åˆ†é¡µæŸ¥è¯¢ï¼ˆé»˜è®¤æ¯é¡µ20æ¡ï¼‰

**æ¥å£æ€§èƒ½**
- å“åº”å‹ç¼©ï¼ˆgzipï¼‰
- æ¥å£é™æµï¼ˆé˜²åˆ·ï¼‰
- ç¼“å­˜çƒ­ç‚¹æ•°æ®ï¼ˆRedisï¼Œå¯é€‰ï¼‰

### 6.3 æ€§èƒ½ç›®æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| é¦–å±åŠ è½½ | < 2ç§’ |
| é¡µé¢åˆ‡æ¢ | < 300ms |
| APIå“åº” | < 500ms |
| æµ‹éªŒæäº¤ | < 1ç§’ |

---

## 7. AIå·¥å…·åº”ç”¨ç­–ç•¥

### 7.1 å¼€å‘é˜¶æ®µAIå·¥å…·ä½¿ç”¨

**Cursor + Claude Pro**ï¼ˆä»£ç ç”Ÿæˆï¼‰
- ä½¿ç”¨åœºæ™¯:
  - ç”ŸæˆåŸºç¡€CRUDä»£ç 
  - ç¼–å†™å•å…ƒæµ‹è¯•
  - ä»£ç é‡æ„å’Œä¼˜åŒ–
  - APIè·¯ç”±å’Œæ§åˆ¶å™¨
- é¢„æœŸæ•ˆç‡: æå‡40-50%ç¼–ç é€Ÿåº¦

**v0.dev**ï¼ˆUIç»„ä»¶ç”Ÿæˆï¼‰
- ä½¿ç”¨åœºæ™¯:
  - å¿«é€Ÿç”Ÿæˆé¡µé¢å¸ƒå±€
  - ç»„ä»¶åº“é€‚é…
  - å“åº”å¼è®¾è®¡
- é¢„æœŸæ•ˆç‡: å‡å°‘50%å‰ç«¯å¼€å‘æ—¶é—´

**ChatGPT/Claude**ï¼ˆé—®é¢˜è§£å†³ï¼‰
- ä½¿ç”¨åœºæ™¯:
  - æŠ€æœ¯æ–¹æ¡ˆå’¨è¯¢
  - Bugè°ƒè¯•
  - æ–‡æ¡£ç¼–å†™
  - ä»£ç å®¡æŸ¥

### 7.2 å†…å®¹åˆ¶ä½œAIå·¥å…·

**å†…å®¹è½¬æ¢**
- ä½¿ç”¨Claudeå°†çŸ¥è¯†åº“Markdownä¼˜åŒ–ä¸ºè¯¾ç¨‹å†…å®¹
- è‡ªåŠ¨ç”Ÿæˆè¯¾ç¨‹å¤§çº²å’Œç« èŠ‚åˆ’åˆ†
- ç”Ÿæˆæµ‹éªŒé¢˜ç›®ï¼ˆåŸºäºçŸ¥è¯†åº“å†…å®¹ï¼‰

**å›¾ç‰‡ç”Ÿæˆ**ï¼ˆå¯é€‰ï¼‰
- Midjourney/DALL-Eç”Ÿæˆé…å›¾
- Stable Diffusionç”Ÿæˆå›¾æ ‡

### 7.3 AIè¾…åŠ©å¼€å‘æœ€ä½³å®è·µ

**ä»£ç ç”ŸæˆåŸåˆ™**
- AIç”Ÿæˆä»£ç éœ€äººå·¥å®¡æŸ¥
- å…³é”®é€»è¾‘ï¼ˆæƒé™ã€æ”¯ä»˜ï¼‰æ‰‹å†™
- ç”Ÿæˆä»£ç æ·»åŠ æ³¨é‡Šè¯´æ˜
- éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ

**æµ‹è¯•è¦†ç›–**
- AIç”Ÿæˆçš„ä»£ç å¿…é¡»æœ‰å•å…ƒæµ‹è¯•
- æ ¸å¿ƒæµç¨‹éœ€ç«¯åˆ°ç«¯æµ‹è¯•
- ä½¿ç”¨AIç”Ÿæˆæµ‹è¯•ç”¨ä¾‹

**æ–‡æ¡£ç»´æŠ¤**
- APIæ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆï¼ˆSwaggerï¼‰
- ä»£ç æ³¨é‡Šå®Œæ•´
- è®¾è®¡å†³ç­–è®°å½•åœ¨æ–‡æ¡£ä¸­

---

## é™„å½•: æŠ€æœ¯å†³ç­–è®°å½•

### ä¸ºä»€ä¹ˆé€‰æ‹©Reactè€Œä¸æ˜¯Vueï¼Ÿ
- Reactç”Ÿæ€æ›´å®Œå–„ï¼ŒAIè®­ç»ƒæ•°æ®æ›´å¤š
- TypeScriptæ”¯æŒæ›´å¥½
- Ant Designç»„ä»¶åº“æ›´é€‚åˆä¼ä¸šåº”ç”¨

### ä¸ºä»€ä¹ˆé€‰æ‹©Prismaè€Œä¸æ˜¯TypeORMï¼Ÿ
- ç±»å‹å®‰å…¨æ€§æ›´å¥½
- è¿ç§»å·¥å…·æ›´ç®€å•
- å­¦ä¹ æ›²çº¿æ›´å¹³ç¼“ï¼Œé€‚åˆç‹¬ç«‹å¼€å‘

### ä¸ºä»€ä¹ˆé€‰æ‹©PostgreSQLè€Œä¸æ˜¯MySQLï¼Ÿ
- JSONå­—æ®µæ”¯æŒæ›´å¥½
- å…¨æ–‡æœç´¢åŠŸèƒ½åŸç”Ÿæ”¯æŒ
- å¹¶å‘æ€§èƒ½æ›´ä¼˜

### ä¸ºä»€ä¹ˆä¸ä½¿ç”¨Next.jsï¼Ÿ
- MVPé˜¶æ®µå‰åç«¯åˆ†ç¦»æ›´çµæ´»
- ç‹¬ç«‹å¼€å‘æ—¶è°ƒè¯•æ›´ç®€å•
- æœ¬åœ°éƒ¨ç½²ä¸éœ€è¦SSR

---

**æ–‡æ¡£ç»´æŠ¤**
æœ¬è®¾è®¡æ–‡æ¡£å°†éšé¡¹ç›®è¿­ä»£æŒç»­æ›´æ–°ã€‚é‡å¤§æŠ€æœ¯å†³ç­–å˜æ›´éœ€åœ¨æ­¤è®°å½•ã€‚
