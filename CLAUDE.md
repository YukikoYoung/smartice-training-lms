# CLAUDE.md

这个文件为 Claude Code (claude.ai/code) 在这个代码库中工作时提供指导。

---

## 项目概述

这是 **SmartIce 培训工具 - 学习管理系统(LMS)** 的项目文档库,专为餐饮运营企业定制的现代化培训系统。

**项目类型**: 文档库 + 产品设计阶段
**行业领域**: 餐饮运营管理
**核心目标**: 通过数字化培训系统提升员工技能、降低培训成本、提高运营效率

---

## 文档结构

### 核心文档
- `README.md` - 项目主入口文档,包含项目介绍、快速开始、技术栈、功能模块、开发指南
- `PRD-SmartIce-培训工具-LMS.md` - 产品需求文档(PRD v2.0),包含完整的产品设计、技术方案、成本预算、项目规划
  - **非常重要**: 这是一个31,000+token的大型文档,读取时需要使用offset和limit参数
  - 关键章节: 产品概述(第1节)、商业价值(第2节)、功能需求(第4节)、技术需求(第6节)、项目规划(第8节)
- `设计.md` - **产品与技术设计文档**,包含:
  - 产品设计(MVP功能范围、用户角色)
  - 技术架构(整体架构、技术栈选型、项目结构)
  - UI/UX设计(设计原则、页面流程、颜色方案)
  - 数据模型(Prisma Schema、核心实体、关系图)
  - 安全性设计(身份验证、数据安全)
  - 性能优化(前端/后端优化策略)
  - AI工具应用策略
- `计划.md` - **开发计划文档**,包含:
  - 12-13周MVP开发计划
  - 4个里程碑详细拆解(准备、基础功能、学习测验、数据优化)
  - 每周任务列表和工时估算
  - 风险管理和应对策略
  - AI辅助开发策略
  - 成本预算(约¥2,010/3个月)

### 知识库文档 (`knowlege/` 目录)
- `前厅合并文档.md` - 餐厅前厅运营管理标准手册,覆盖管理岗位、服务岗位的完整工作流程
- `前厅每日工作流程.md` - 前厅日常运营流程细节
- `厨房合并文档.md` - 厨房运营标准与岗位工作流程手册(150KB+),包含通用标准、各岗位流程、设备管理、应急预案

**注意**: 知识库文档是未来培训系统的内容基础,代表实际餐饮运营的标准操作流程。

---

## 项目架构

### 开发方案(PRD第8.2节)
**推荐方案**: AI辅助精简团队开发
- **核心技术栈**: React + TypeScript + Node.js + PostgreSQL
- **AI工具赋能**:
  - Cursor + Claude Pro: 代码生成效率提升45%
  - v0.dev + Midjourney: UI设计时间缩短50%
  - AI配音工具: 内容制作成本降低70%

### 系统架构(PRD第6节)
- **部署方式**: 本地部署(数据完全自主可控)
- **多角色支持**: 员工、管理层、培训管理者、职能部门、决策层
- **核心功能模块**:
  1. 课程管理系统
  2. 学习路径设计
  3. 在线考试系统
  4. 培训数据分析
  5. 内容管理系统
  6. 移动端支持

### 关键业务逻辑
- **培训周期目标**: 将新员工培训从4周缩短至2周(50%提升)
- **考试机制**: 自动补考(冷却期、次数限制、自动通知) - PRD第4节
- **DAU目标**: 15-30%(符合企业培训系统实际,非消费级应用)

---

## 项目规划

### MVP开发周期: 12-13周(独立开发+AI辅助)
1. **准备阶段(1周)**: 环境搭建、技术验证
2. **里程碑1(4周)**: 用户系统 + 课程浏览
3. **里程碑2(4周)**: 在线学习 + 测验系统
4. **里程碑3(2-3周)**: 数据看板 + 系统优化
5. **里程碑4(1周)**: 部署上线

**详细计划参考**: `计划.md`

### 开发成本(MVP阶段)
- **AI工具订阅**: ¥1,660(Cursor Pro + Claude Pro + ChatGPT Plus + v0.dev)
- **测试服务器**: ¥300(可选)
- **域名SSL**: ¥50
- **总计**: 约¥2,010/3个月

### 生产部署预算
- **本地部署**: 服务器一次性投入¥5,000-10,000
- **云部署**: ¥6,500-12,000/年(阿里云ECS+RDS)

---

## 重要约束与原则

### 数据安全
- **强制要求**: 本地部署,所有培训数据和员工信息不得外泄
- **合规要求**: 符合餐饮行业数据安全标准

### 用户体验
- **移动优先**: 餐饮员工主要使用手机学习
- **操作简单**: 一线员工可能文化程度不高,界面需直观易用
- **离线支持**: 需考虑门店网络不稳定场景

### 内容特性
- **行业专属**: 所有培训内容基于knowlege/目录中的餐饮运营标准
- **多媒体**: 支持视频(烹饪演示)、文档(标准流程)、在线测试
- **知识库沉淀**: 系统需支持企业知识积累和版本管理

---

## 开发注意事项

### 处理PRD文档时
1. **文件很大**: 使用`Read`工具时必须指定offset和limit,或使用`Grep`工具搜索特定内容
2. **版本信息**: PRD v2.0已于2025-10-30完成重大更新,修复了预算冲突和KPI合理性问题
3. **权威章节**: 第8节(项目规划)包含最终确定的开发方案和预算

### 处理知识库文档时
1. **文档很大**: `厨房合并文档.md`超过150KB,需分段读取
2. **标准化**: 所有运营标准使用checkbox格式(- [ ]),便于未来转化为培训考核点
3. **层级结构**: 按岗位→流程→具体操作的三级结构组织

### 未来开发时
1. 参考PRD第4节功能需求的优先级矩阵
2. MVP阶段聚焦核心培训流程,避免过度设计
3. 考虑知识库文档的结构化存储和检索方案

---

## 常见任务

### 查询产品信息
```bash
# 搜索特定功能需求
grep -n "功能名称" "PRD-SmartIce-培训工具-LMS.md"

# 查看预算信息(在第8.4节附近)
# 使用Read工具,offset约在800-1000行范围
```

### 分析运营标准
```bash
# 查找特定岗位流程
grep -n "岗位名称" knowlege/前厅合并文档.md
grep -n "岗位名称" knowlege/厨房合并文档.md
```

### 理解业务价值
- 阅读PRD第2节(商业价值分析)了解核心痛点
- 阅读PRD第3节(用户研究)理解目标用户需求

---

## 项目状态

**当前阶段**: 规划设计完成,准备启动开发(2025-11-13)
**GitHub仓库**: https://github.com/Ray901027/smartice-training-lms
**下一步**:
1. 搭建开发环境(Node.js、PostgreSQL、Docker)
2. 初始化前后端项目结构
3. 开始里程碑1开发(用户系统+课程浏览)

**文档完成度**:
- ✅ PRD已经过6轮系统性检查
- ✅ 产品与技术设计文档完成(`设计.md`)
- ✅ 12-13周开发计划完成(`计划.md`)
- ✅ 项目说明文档完成(`README.md`)
- ✅ GitHub仓库已初始化

---

## 使用设计和计划文档

### 开始开发前必读
1. **阅读`设计.md`** - 了解技术架构、数据模型、UI设计
2. **阅读`计划.md`** - 了解开发节奏、任务拆解、风险管理
3. **阅读`README.md`** - 了解项目结构、快速开始、开发规范

### 开发过程中
- **参考`设计.md`第2节** - 查看技术栈选型和项目结构
- **参考`设计.md`第4节** - 查看数据模型设计(Prisma Schema)
- **参考`计划.md`第3节** - 查看当前Sprint的详细任务
- **参考`计划.md`第8.2节** - 查看项目跟踪工具和流程

### Git工作流程
```bash
# 初始化仓库(已完成)
git init
git add .
git commit -m "docs: 初始化项目文档"

# 创建远程仓库并推送(已完成)
gh repo create smartice-training-lms --public --source=. --push

# 日常提交规范
git add .
git commit -m "feat: 添加用户登录功能"
git push

# 创建功能分支
git checkout -b feature/user-auth
# 开发完成后合并到main
git checkout main
git merge feature/user-auth
```
